<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title>Doctors List</title>

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/style.css}">
</head>

<body class="bg-light">

	<div class="d-flex">
		<!-- Sidebar -->
		<div th:replace="~{fragments/header :: navbar}"></div>

		<!-- Main Content -->
		<div class="flex-grow-1 p-4">
			<div class="container mt-4">
				<div class="d-flex justify-content-between align-items-center">
					<h1 class="mb-4 text-primary">Doctors List</h1>
					<a th:href="@{/doctor/add}" class="btn btn-success mb-3">+ Add
						New Doctor</a>
				</div>

				<div class="table-wrapper">
					<table
						class="table table-striped table-bordered align-middle text-center">
						<thead class="table-dark">
							<tr>
								<th>ID</th>
								<th>Name</th>
								<th>Specialization</th>
								<th>Experiences</th>
								<th>Appointments</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="doctor : ${doctors}">
								<td th:text="${doctor.id}"></td>
								<td th:text="${doctor.name}"></td>
								<td th:text="${doctor.specialization}"></td>
								<td
									th:text="${doctor.experenceYear != 0} ? ${doctor.experenceYear + ' Years'} : '0'"></td>
								<td th:text="${#lists.size(doctor.appointments)}">0</td>
								<td class="d-flex justify-content-center gap-3"><a
									th:href="@{'/doctor/edit/' + ${doctor.id}}"
									class="btn btn-sm btn-primary">Edit</a> <a
									th:href="@{'/doctor/delete/' + ${doctor.id}}"
									class="btn btn-sm btn-danger"
									onclick="return confirm('Are you sure you want to delete this doctor?')">
										Delete </a></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

</body>
</html>
