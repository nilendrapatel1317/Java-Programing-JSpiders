package com.string;

import java.util.Stack;

public class Balanced_String3 {

	public static void main(String[] args) {
		System.out.println(isBalanced("[5+{4*(2+3)}]"));
		System.out.println("=========================");
		System.out.println(isBalanced("[{()(){}}[]]"));


	}
	
	public static boolean isBalanced(String s) {
		Stack<Character> stack = new Stack<Character>();
		
		char[] a = s.toCharArray();
		for (int i = 0; i < a.length; i++) {
			
			//for open brackets
			if(a[i]=='[' || a[i]=='{' || a[i]=='(') {
				stack.push(a[i]);
				System.out.print(i+" "+a[i]);
				System.out.println();
			}
			
			//for close brackets
			else if(a[i]==']' || a[i]=='}' || a[i]==')') {
				if(stack.isEmpty()) return false;
				char removedChar = stack.pop();
				System.out.println("current : "+a[i]);
				System.out.println("removed : "+removedChar);
				if(!checkBracketPair(removedChar ,a[i])) return false;
			}
				
		}
		return stack.isEmpty();
	}
	
	public static boolean checkBracketPair(char openBracket , char closeBracket) {
		System.out.println(openBracket + " " +closeBracket);
		if(openBracket=='[' && closeBracket==']') return true;
		if(openBracket=='{' && closeBracket=='}') return true;
		if(openBracket=='(' && closeBracket==')') return true;
		
		return false;
	}

}
